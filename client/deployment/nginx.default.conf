server {
    listen       80;
    server_name  localhost;

    root   /usr/share/nginx/html;
    index index.html;
    error_page   500 502 503 504  /50x.html;

    location / {
        try_files $uri $uri/ =404;
        add_header Cache-Control "no-cache";
    }

    location /static {
        expires 1y;
        add_header Cache-Control "public";
    }

    location /api {
        #return 200 'location 2';
        proxy_pass http://server:5000;
		#proxy_pass http://localhost:5000;
    }

}

# server {

# 	listen 80;
   
# 	server_name localhost;
   
# 	# Force all requests to react index.html (since it will use client-side routing)
# 	location / {
  
# 		# Set path to volume where built files are stored
# 		root   /usr/share/nginx/html;
# 		# Always points to index.html
# 		#try_files $uri $uri/ /index.html;
# 		proxy_pass http://localhost:5000;
# 	}
#     #  location /server {
#     #     proxy_pass http://localhost:5000;
#     # }
	
# 	# Proxies all /api* requests to the flask application serving the API
# 	# location ~ /api/* {
#     #     proxy_set_header   Host                 $host;
#     #     proxy_set_header   X-Real-IP            $remote_addr;
#     #     proxy_set_header   X-Forwarded-For      $proxy_add_x_forwarded_for;
#     #     proxy_set_header   X-Forwarded-Proto    $scheme;
#     #     proxy_set_header Host $http_host;

#     #     proxy_pass http://api:5090;
#     # }
   
# }